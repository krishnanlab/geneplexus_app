<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/e6f3faaa40.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type= "text/css" href= "{{ url_for('static',filename='main.css') }}">
    <title>GenePlexus</title>
    <style>.screenshot  {
        border: 1px; solid #ddd; border-radius: 4px; padding: 5px; width: 250px; }
    </style>
</head>
    <body>
       <header>
          <div class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <a class="navbar-brand" href="#">GenePlexus</a>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav mr-auto">
                    <li class="navbar-item active">
                        <a class="nav-link" href="{{ url_for('index') }}">Home</a>
                    </li>
                    <li class="navbar-item active">
                        <a class="nav-link"  href="{{ url_for('help') }}">Help</a>
                    </li>
                    <li class="navbar-item active">
                        <a class="nav-link"  href="{{ url_for('about') }}">About</a>
                    </li>
                    <li class="navbar-item active">
                        <a class="nav-link"  href="{{ url_for('jobs') }}">Jobs</a>
                    </li>
                </ul>
                <ul class="navbar-nav mr-auto">
                    <li class="navbar-item active">
                        <a class="nav-link"  href="https://www.thekrishnanlab.org/" target="_blank">Krishnan Lab</a>
                    </li>
                </ul>
            </div>
          </div>
        </header>
       <div class="sidenav">
            <form id="model-form" action="{{ url_for('validate') }}" method="POST", enctype="multipart/form-data">
                <div class="item-content">
                   <span>
                       <br>
                       <fieldset class="border box_padding fieldset">
                           <label>
                               1. Enter Input Genes
                           </label>&nbsp;<a href="#" data-toggle="popover" data-trigger="hover" data-placement="right"
                                  data-content="Upload of file of Gene IDs or input them manually.
                                  Acceptable Gene IDs are; Entrez, ENSG, Symbol, ENSP, ENST.
                                  The format is delimited by newline (i.e. each gene is on a separate line)">
                           <i class="fas fa-question-circle"></i></a>
                           <div>
                                <span id="geneButton" class="btn btn-sm">Input Genes from File</span>
                                <span id="filename" class="text-center"></span>
                                <input class="btn btn-sm btn-outline-primary py-0" style="font-size: 0.0em;"
                                       type="file"
                                       title=" "
                                       name="input_genes"
                                       accept="txt/csv"
                                       />
                           </div>
                           <label>Or</label>
                           <div class="button_padding">
                               <!-- Button trigger modal -->
                                <button type="button" id="geneBtn" class="btn btn-sm"  data-toggle="modal" data-target="#geneModal">
                                  Enter / Paste Genes
                                </button>
                           </div>
                           <div class="button_padding">
                                <button type="button" id="geneClear" class="btn btn-sm"  onclick="clearInput()">
                                  Clear Input
                                </button>
                           </div>
                           <br>
                           <label>
                               2. Check if IDs are Valid
                           </label>&nbsp;<a href="#" data-toggle="popover" data-trigger="hover" data-placement="right"
                                  data-content="All IDs will be converted to Entrez IDs to be used in the machine learning model.
                                  The resulting spreadsheet shows how the input genes were converted and if they were in the molecular networks.">
                           <i class="fas fa-question-circle"></i></a>
                            <div class="button_padding">
                                <input type="submit" disabled name="submit_button" class="btn btn-sm border dark" value="Check if IDs are Valid">
                            </div>
                       </fieldset>
                   </span>
                </div>
            </form>
       </div>
        <div class="container">
            <h1 id="geneplexus-help-page">GenePlexus</h1>

            <p style="font-size:20px;">The GenePlexus webserver enables users to predict novel genes similar to their genes of interest based on their patterns of connectivity in human genome-scale molecular interaction networks. GenePlexus works by training a machine learning model that captures the patterns of network connectivity of the user-defined genes in contrast to other genes in the network.</p>
            <p style="font-size:20px;">Based on this model Geneplexus will: 1) predict other genes in the network that are similar to the input genes based on their network connectivity, 2) enable users to interpret the custom trained machine-learning model by comparing it to pre-trained models for various biological processes and diseases, and 3) provide a visualization of the top predictions in the form a interactive network graph. All the results can be downloaded/exported in multiple convenient formats.</p>

            <hr class="mt-5">
            <p style="font-size:20px;">
                <a href="{{url_for('job', jobname='primary-ciliary-dyskinesia-d48a9b4e')}}">
                <img class="screenshot" style="float:right"  src="{{ url_for('static',filename='geneplexus_example_screenshot.jpg')}}" style="border: 1px;">
                    This example</a>, trained using genes associated with the disease <i>primary ciliary dyskinesia</i>, 
                and run using the adjacency matrix representation of the STRING network 
                and the negative genes selected based off of other DisGeNet disease-gene annotations. 
                The trained model is similar to other disease models such as ciliopathy as well
                 as biological processes that deal with dynein complex and arm assembly. 
                .</p>
                <p>It can also be seen that the gene DNALI1 (dynein axonemal light intermediate chain 1), 
                which was not included in the original gene list is strongly predicted to be associated to 
                primary ciliary dyskinesia.</p>

            
            <hr class="mt-5">
            <h4>Using GenePlexus</h4>
            <ul>
                <li style="font-size:20px;margin:0">See the About page for a high-level overview of how GenePlexus works.</li>
                <li style="font-size:20px;">See the Help page for detailed help on the various inputs or outputs.</li>
                <li style="font-size:20px;">Use the panel on the left to run GenePlexus on your own genes of interest!</li>
            </ul>
             <hr class="mt-5">

            <p style="font-size:20px;margin:0">The network-based approach implemented in GenePlexus has been extensively benchmarked in</p>
            <a href="https://academic.oup.com/bioinformatics/article/36/11/3457/5780279" style="font-size: 20px;">Supervised learning is an accurate method for network-based gene classification</a>
            <p style="font-size:20px;margin:0">R Liu, CA Mancuso, A Yannakopoulos, KA Johnson, A Krishnan</p>
            <p style="font-size:20px;margin:0">Bioinformatics 36 (11), 3457-3465</p>

            <div class="fill_container">
                <div id="divLoading">
                    <div id="loading" class="fa-5x"><i class="fas fa-spinner fa-spin"></i></div>
                </div>
            </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="geneModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form id="modal-form" method="POST", enctype="multipart/form-data"></form>
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Enter or Paste List of Genes</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        <textarea class="form-control rounded-0" id="enterGenes" rows="25"></textarea>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" onclick="saveGenes()">Save Genes</button>
                      </div>
                </form>
            </div>
          </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        <script src="{{url_for('static', filename='index.js')}}"></script>
    </body>
</html>