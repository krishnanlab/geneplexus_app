<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.4/css/buttons.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.6/css/responsive.dataTables.min.css">
    <style>{{ main_css }}</style>
    <style>{{ graph_css }}</style>
    <style>{{ d3_tip_css }}</style>
    <title>GenePlexus</title>
    <script>
        var dataset = {{ graph | safe }}
    </script>
</head>
    <body>
       <div class="container">
            <div class="border border-dark">
                <div class="box_padding">
                    <div class="row">
                        <div class="col-xs-3 text-left col-sm-3">
                            <b>Parameters:</b>
                        </div>
                        <div class="col-xs-3 text-left col-sm-3">
                            <label>Job Name:&nbsp</label>{{( jobname )}}<br>
                            <label>Network:&nbsp</label>{{( network )}}<br>
                        </div>
                        <div class="col-xs-3 text-left col-sm-3">
                            <label>Features:&nbsp</label>{{( features )}}<br>
                            <label>Negative Class:&nbsp</label>{{( negativeclass )}}<br>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-xs-12 col-sm-12">
                            <label>The median value of the log2(auPRC/prior)
                                for 5-fold cross validation is &nbsp</label>{{( avgps )}}<br>&nbsp
                                </label>&nbsp;<a href="#" data-toggle="popover" data-trigger="hover" data-placement="right"
                                  data-content="log2(auPRC/prior) reports the 2-fold change of the auPRC over the expected result.
                                  For example a value of 1 is a model that performs twice as good as the expected result.">
                           <i class="fas fa-question-circle"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div role="tabpanel">

                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                        <a href="#predictions" class="nav-link text-dark active" data-toggle="tab">Gene Predictions</a>
                    </li>
                    <li class="nav-item">
                        <a href="#sim_go" class="nav-link text-dark" data-toggle="tab">Similarities to GO Biological Processes</a>
                    </li>
                    <li class="nav-item">
                        <a href="#sim_dis" class="nav-link text-dark" data-toggle="tab">Similarities to Disease</a>
                    </li>
                    <li class="nav-item">
                        <a href="#netgraph" class="nav-link text-dark" data-toggle="tab">Network graph</a>
                    </li>
                    <li class="nav-item">
                        <a href="#validation" class="nav-link text-dark" data-toggle="tab">Validation Data</a>
                    </li>
                </ul>

                  <!-- Tab panes -->
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane fade show active" id="predictions">
                        {{ probs_table|safe }}
                    </div>

                    <div class="tab-pane fade" id="sim_go">
                        {{ go_table|safe }}
                    </div>

                    <div class="tab-pane fade" id="sim_dis">
                        {{ dis_table|safe }}
                    </div>
                    <div class="tab-pane fade" id="netgraph">
                        <svg width="1080" height="600" id="graph"></svg>
                        <canvas hidden width="1080" height="600" id="canvas"></canvas>
                    </div>
                    <div class="tab-pane fade" id="validation">
                        <div class="table_container">
                            <br>
                            <p>The number of genes in the input file was {{ input_count }}.</p>
                                <p>The number of those genes that were uniquely mapped to an Entrez ID
                                    and were also in the network is {{positive_genes}}.</p>
                            <br>
                            {{ validate_table|safe }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap.min.js"></script>
        <script src="https://cdn.datatables.net/responsive/2.2.6/js/dataTables.responsive.min.js"></script>
        <script src="https://cdn.datatables.net/responsive/2.2.6/js/responsive.bootstrap.min.js"></script>
        <!--<script src="https://cdn.datatables.net/v/dt/dt-1.10.22/datatables.min.js"></script>-->
        <script src="https://cdn.datatables.net/buttons/1.6.4/js/dataTables.buttons.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.bootstrap4.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
        <script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.html5.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.print.min.js"></script>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
         <script>{{ context_menu_js }}</script>
         <script>{{ d3_tip_js }}</script>
         <script>{{ graph_js }}</script>
         <script>{{ datatable_js }}</script>
    </body>
</html>